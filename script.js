// i18n dictionary
const i18n = {
  ar: {
    brand: "New Castle",
    "nav.home": "الرئيسية",
    "nav.about": "من نحن",
    "nav.services": "الخدمات",
    "nav.projects": "المشاريع",
    "nav.partners": "الشركاء",
    "nav.qhse": "الجودة والسلامة",
    "nav.contact": "تواصل",
    "hero.title": "نبني الثقة ونسلّم الجودة منذ 2008",
    "hero.subtitle":"مقاولات عامة وصيانة في أبوظبي — حلول متكاملة من التصميم حتى التسليم، بأعلى معايير السلامة والجودة.",
    "cta.quote":"احصل على عرض سعر",
    "cta.whatsapp":"تواصل عبر واتساب",
    "badge.trusted":"خبرة موثوقة",
    "badge.onTime":"تسليم في الوقت",
    "badge.quality":"جودة بلا تنازل",
    "badge.safety":"السلامة أولاً",
    "about.title":"من نحن",
    "about.lead":"تأسست نيو كاسل عام 2008 لتقديم حلول إنشائية وصيانة عالية الاعتمادية للقطاعات السكنية والتجارية والصناعية في أبوظبي، عبر فريق محترف وشراكات هندسية راسخة.",
    "about.v1":"النزاهة والشفافية",
    "about.v2":"التزام بالجودة",
    "about.v3":"التسليم في الوقت",
    "about.v4":"السلامة أولاً",
    "about.v5":"رضا العملاء",
    "about.since":"نخدمكم منذ",
    "about.sectors":"قطاعات (سكني/تجاري/صناعي)",
    "about.support":"سلامة وجودة",
    "services.title":"خدماتنا",
    "services.s1.title":"المقاولات العامة",
    "services.s1.desc":"تنفيذ كامل لمشاريع الفلل والمكاتب والمستودعات من الدراسات حتى التسليم.",
    "services.s2.title":"الصيانة والتجديد",
    "services.s2.desc":"صيانة وقائية وتصحيحية وتجديد شامل مع خطط واضحة.",
    "services.s3.title":"الطرق والبنية التحتية",
    "services.s3.desc":"حفريات، تمديدات، طبقات، وتصريف وفق أعلى المعايير.",
    "services.s4.title":"مرافق النفط والغاز",
    "services.s4.desc":"أعمال مدنية/كهربية/ميكانيكية ضمن اشتراطات السلامة.",
    "services.s5.title":"التشطيبات والديكور",
    "services.s5.desc":"تصميم وتنفيذ تشطيبات راقية للمساحات السكنية والتجارية.",
    "projects.title":"مشاريع مختارة",
    "projects.p1.title":"فيلا سكنية – مدينة محمد بن زايد",
    "projects.p1.meta":"الاستشاري: Al Itqan | أبوظبي",
    "projects.p2.title":"مجلس خارجي وتمديد غرفة – West 25",
    "projects.p2.meta":"الاستشاري: Eastern Architecture | أبوظبي",
    "projects.p3.title":"فيلا – الباهية",
    "projects.p3.meta":"الاستشاري: Al Khail | أبوظبي",
    "projects.p4.title":"مبنى مكاتب ومحلات – منطقة M36",
    "projects.p4.meta":"الاستشاري: Dar Al-Handasah | أبوظبي",
    "partners.title":"شركاؤنا",
    "qhse.title":"الجودة والسلامة والاستدامة",
    "qhse.q":"الجودة",
    "qhse.q.desc":"عمليات مراقبة صارمة، مواد معتمدة، وإشراف ميداني مستمر.",
    "qhse.h":"السلامة",
    "qhse.h.desc":"سلامة الطواقم والمواقع أولاً وفق بروتوكولات محدّثة.",
    "qhse.s":"الاستدامة",
    "qhse.s.desc":"حلول فعّالة التكلفة صديقة للبيئة وتراعي استهلاك الموارد.",
    "contact.title":"تواصل معنا",
    "contact.subtitle":"نسعد بخدمتكم في أبوظبي. املأ النموذج وسنعاودك خلال 24 ساعة.",
    "contact.phoneLabel":"هاتف:",
    "contact.whatsapp":"واتساب:",
    "contact.address":"العنوان:",
    "form.name":"الاسم الكامل",
    "form.phone":"رقم الهاتف",
    "form.message":"رسالتك",
    "form.submit":"إرسال"
  },
  en: {
    brand: "New Castle",
    "nav.home": "Home",
    "nav.about": "About",
    "nav.services": "Services",
    "nav.projects": "Projects",
    "nav.partners": "Partners",
    "nav.qhse": "Quality & Safety",
    "nav.contact": "Contact",
    "hero.title":"Building Trust, Delivering Quality Since 2008",
    "hero.subtitle":"Integrated contracting & maintenance in Abu Dhabi—from design to handover with uncompromising safety and quality.",
    "cta.quote":"Get a Quote",
    "cta.whatsapp":"Chat on WhatsApp",
    "badge.trusted":"Trusted Experience",
    "badge.onTime":"On-Time Delivery",
    "badge.quality":"Uncompromising Quality",
    "badge.safety":"Safety First",
    "about.title":"About Us",
    "about.lead":"Established in 2008, New Castle delivers reliable construction and maintenance solutions across residential, commercial, and industrial sectors in Abu Dhabi, powered by a professional team and strong engineering partnerships.",
    "about.v1":"Integrity & Transparency",
    "about.v2":"Commitment to Quality",
    "about.v3":"On-Time Handover",
    "about.v4":"Safety First",
    "about.v5":"Client Satisfaction",
    "about.since":"Since",
    "about.sectors":"Sectors (Residential/Commercial/Industrial)",
    "about.support":"Quality & Safety",
    "services.title":"Our Services",
    "services.s1.title":"General Contracting",
    "services.s1.desc":"End-to-end delivery for villas, offices, and warehouses—from studies to handover.",
    "services.s2.title":"Maintenance & Renovation",
    "services.s2.desc":"Preventive & corrective maintenance and full renovations with clear plans.",
    "services.s3.title":"Roads & Infrastructure",
    "services.s3.desc":"Excavation, utilities, layers, and drainage to top standards.",
    "services.s4.title":"Oil & Gas Facilities",
    "services.s4.desc":"Civil/EE/MEP works under strict safety requirements.",
    "services.s5.title":"Fit-Out & Décor",
    "services.s5.desc":"Premium fit-out and décor for residential and commercial spaces.",
    "projects.title":"Featured Projects",
    "projects.p1.title":"Residential Villa – MBZ City",
    "projects.p1.meta":"Consultant: Al Itqan | Abu Dhabi",
    "projects.p2.title":"Outdoor Majlis & Bedroom Extension – West 25",
    "projects.p2.meta":"Consultant: Eastern Architecture | Abu Dhabi",
    "projects.p3.title":"Villa – Al Bahia",
    "projects.p3.meta":"Consultant: Al Khail | Abu Dhabi",
    "projects.p4.title":"Office Building & Shops – Area M36",
    "projects.p4.meta":"Consultant: Dar Al-Handasah | Abu Dhabi",
    "partners.title":"Partners",
    "qhse.title":"Quality, Safety & Sustainability",
    "qhse.q":"Quality",
    "qhse.q.desc":"Strict QA processes, approved materials, constant site supervision.",
    "qhse.h":"Safety",
    "qhse.h.desc":"Crew and site safety first with up-to-date protocols.",
    "qhse.s":"Sustainability",
    "qhse.s.desc":"Cost-effective, eco-friendly solutions that optimize resources.",
    "contact.title":"Contact Us",
    "contact.subtitle":"We’re happy to serve you in Abu Dhabi. Fill the form and we’ll get back within 24 hours.",
    "contact.phoneLabel":"Phone:",
    "contact.whatsapp":"WhatsApp:",
    "contact.address":"Address:",
    "form.name":"Full Name",
    "form.phone":"Phone Number",
    "form.message":"Your Message",
    "form.submit":"Send"
  }
};

const $ = (s, root=document)=>root.querySelector(s);
const $$ = (s, root=document)=>Array.from(root.querySelectorAll(s));

// Navbar interactions
const hamburger = $("#hamburger");
const nav = $("#nav");
hamburger?.addEventListener("click", ()=> nav.classList.toggle("open"));

// Year
$("#year").textContent = new Date().getFullYear();

// Language toggle
const langToggle = $("#langToggle");
let current = "ar";
const applyLang = (lang)=>{
  const dict = i18n[lang];
  $$("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    if(dict[key]) el.textContent = dict[key];
  });
  document.body.classList.toggle("lang-en", lang==="en");
  document.body.classList.toggle("lang-ar", lang==="ar");
  document.documentElement.lang = lang === "en" ? "en" : "ar";
  document.documentElement.dir = lang === "en" ? "ltr" : "rtl";
  langToggle.textContent = lang === "en" ? "عربي" : "EN";
};
langToggle?.addEventListener("click", ()=>{
  current = current === "ar" ? "en" : "ar";
  applyLang(current);
});
applyLang(current);

// Close nav on link click (mobile)
$$(".nav__link").forEach(a=>a.addEventListener("click", ()=> nav.classList.remove("open")));
